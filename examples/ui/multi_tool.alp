{"kind":"@shape","id":"ToolInput","fields":{"tool":"str","data":"str"}}
{"kind":"@shape","id":"ToolResult","fields":{"tool":"str","result":"str","permissions_needed?":"str"}}
{"kind":"@fn","id":"multi_tool","in":"ToolInput","out":"ToolResult","@op":[["calc_eval",{"expr":"$in.data"},{"as":"calc_result"}],["concat",{"items":["Calculator result: ","$calc_result.value"]},{"as":"output"}]],"@expect":{"tool":"$in.tool","result":"$output"}}
{"kind":"@fn","id":"create_multi_ui","in":{},"out":{"launched":"bool"},"@const":{"title":"ALP Multi-Tool","description":"Multiple tools in one interface"},"@op":[["ui_create",{"title":"$title","description":"$description"},{"as":"created"}],["ui_add_input",{"name":"tool","type":"dropdown","label":"Select Tool","options":["Calculator","Text Counter","JSON Formatter"],"default":"Calculator"},{"as":"tool_select"}],["ui_add_input",{"name":"data","type":"textbox","label":"Input Data","default":"2 + 2","lines":3},{"as":"input"}],["ui_add_output",{"name":"result","type":"json","label":"Result"},{"as":"output"}],["ui_set_handler",{"function":"multi_tool","inputs":["tool","data"],"outputs":["result"]},{"as":"handler"}],["ui_launch",{"port":7866},{"as":"launched"}],["ui_wait",{"timeout":600},{"as":"waited"}]],"@expect":{"launched":"$launched.launched"}}
{"kind":"@flow","edges":[["create_multi_ui",null,{}]]}