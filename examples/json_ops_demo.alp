{"kind":"@shape","id":"JsonDemo","fields":{"original":"dict","modified":"dict","filtered":"list","mapped":"list"}}

{"kind":"@fn","id":"demo_json_ops","in":{},"out":"JsonDemo","@const":{"sample_data":{"users":[{"id":1,"name":"Alice","age":30,"active":true},{"id":2,"name":"Bob","age":25,"active":false},{"id":3,"name":"Charlie","age":35,"active":true}],"settings":{"theme":"dark","language":"en"}}},"@op":[["json_set",{"obj":"$sample_data","path":"settings.notifications","value":{"email":true,"push":false}},{"as":"with_notifications"}],["json_merge",{"objects":["$with_notifications.result",{"metadata":{"version":"1.0","timestamp":"2024-01-01"}}]},{"as":"merged"}],["json_filter",{"array":"$sample_data.users","condition":{"eq":["active",true]}},{"as":"active_users"}],["json_map",{"array":"$sample_data.users","template":{"user_id":"$id","display":"$name","years":"$age"}},{"as":"mapped_users"}],["json_delete",{"obj":"$merged.result","path":"settings.theme"},{"as":"without_theme"}]],"@expect":{"original":"$sample_data","modified":"$without_theme.result","filtered":"$active_users.result","mapped":"$mapped_users.result"}}

{"kind":"@flow","edges":[["demo_json_ops",null,{}]]}